<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Soustraction posée sans retenue</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 30px;
    }
    input, button {
      padding: 10px;
      margin: 10px;
      font-size: 18px;
    }
  </style>
</head>
<body>
  <h1>Soustraction posée sans retenue</h1>

  <p><strong>Écris ton animal :</strong></p>
  <input type="text" id="animal" placeholder="ex. Chat, Chien...">

  <p><strong>Résous :</strong></p>
  <p style="font-size: 24px;">74 - 21 = ?</p>
  <input type="number" id="reponse" placeholder="Ta réponse">

  <br>
  <button id="valider">Valider</button>
  <p id="message"></p>

  <script>
    document.getElementById('valider').addEventListener('click', () => {
      const animal = document.getElementById('animal').value.trim();
      const reponse = parseInt(document.getElementById('reponse').value);
      const bonneReponse = 53;
      const score = (reponse === bonneReponse) ? 100 : 0;

      if (!animal) {
        alert("Écris ton animal.");
        return;
      }

      const formURL = 'https://docs.google.com/forms/d/e/1FAIpQLSc8gL0iLCLF1f26l6UMo9FC8W72qn7gh1OfL6TQmtzsq3MZRg/formResponse';
      const data = new FormData();

      data.append('entry.2043306579', animal); // champ "Animal"
      data.append('entry.458588301', score);   // champ "Score"

      fetch(formURL, {
        method: 'POST',
        mode: 'no-cors',
        body: data
      }).then(() => {
        document.getElementById('message').innerText = "Résultat envoyé !";
      }).catch(() => {
        document.getElementById('message').innerText = "Erreur d'envoi.";
      });
    });
  </script>
</body>
</html>
